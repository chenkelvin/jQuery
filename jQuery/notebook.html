<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>整理笔记</title>
	<script>
			//原型继承；
	//借用构造函数
	//call 格式， 构造函数.call(this, 参数1，参数2， 参数3 ......)
	//apply 格式， 父类构造函数.apply(子类当前对象，[参数1，参数2，参数3......])数组
	//***call与 apply 的唯一区别，传参方式不同，
	//***借用构造
	////////////////////////////
	//函数执行方式，
	// 1 手动调用 fn()
	// 2 事件调用 绑定事件；
	// 3 new 创建实例；
	// 4 call/apply;
	// 	/////////////////////////////////////////////////
	// window.x = 1,  var x = 1;   可以删除；	delete window.x 
	// var x=1,  不可以删除
	// ////////////////////////////
	// 	
	/*
		闭包；
		1 正常情况下外部无法访问函数内部的内容；
		2 利用函数内部可访问外部变量的特性，在函数内部返回一个函数；
		3 垃圾回收机制；
		js内部定时扫描内存，并清理无引用对象；
	

	***	结论： 一个可以从外部访问内部变量的函数 称之为 闭包； 		***
		闭包，可以访问函数内部的局部变量，并让其长期驻留内存；
		PS 由于闭包会携带包含他的作用域，因此会比其他函数占用更多的内存，过度使用闭包可能会造成内存问题；
	 */
	//////////////////////////////////
	///
	//////////////
	///jquery
	//////////////
	///获取页面上的元素；
	//getElementById();
	//getElementsByTagName();
	//getElementsByClassName();
	//getElmentsByName();
	//ES5的新的获取方式；
	//document.querySelector();
	//docuemnt.querySelectorAll();
	//
	//	
		/*
				1 css选择器；
					1 id选择器； #box
					2 class选择器;	 .box
					3 标签选择器；	div
					4 组合/联合/群组	div,p,#box
					5 后代选择器；	.box li
					6 子选择器；	.box > li
					7 相邻兄弟选择器： .box + div
					7 伪类选择器（一个冒号）；:link, :visited, :hover, :active(love,hate)
					8 伪元素选择器(两个冒号)； ::before, ::after, ::first-line, ::first-letter,
				*** 以上选择器在jQuery里都支持；
				*////////////////////////////////
				//表单选择器；
				//
				////////////////////////
				// 属性选择器；
				/* //////////////////////////////////////
				* data-*	自定义属性（html5标准）
				* date-index
				* data-idx
				* [属性名]
				* [属性名 = 属性值]；
				* [属性名^=字符]；	以某一个字符开头的元素；
				* [属性名$=字符]	为某一个结尾的元素
				* [属性名*=字符]	包含某一个元素；	css3 可能不支持；
				* [data-index = "110"]{font-size: 30px}
				* [data-index]{color: red}
				* [data-index^= "10"]{font-size: bold}
				* [data-index$= "10"]{background: gray}
				* [data-index*= "10"]{font-style: itatil}
				*
				////////////////////////////////
				//jquery 事件绑定方法；
				//.click(fn): 当点击事件触发是，执行fn 
				$("#btn").click(function(){
					if($(".box").is(":visible")){
						$(".box").css({display: "none"});
					}else{
						$(".box").css({display: "block"})
					}
				})
				$("#btn").click(function(){
					if($(".box").is(":visible")){
						$(".box").addClass("hide");
					}else{
						$(".box").removeClass("hide"));
					}
				})
				$("#btn").click(function(){
					$box.toggleClass("hide");
				})
				
				//////////////////
				    4.jQuery对象属性
		        length: 选择器返回jQuery对象中元素的个数
		        selector: 返回传给jQuery()的原始选择器
		        jquery: 当前jquery类库版本号（一般用于判断是否jquery对象）
				//////////////////////////////////////////////////
				/////////////7.11/////////////////////////////////

		        // 判断一个jQuery对象是否存在；
		        	1 length
		        	2 转换成原生对象；
		        $(document).ready(funciton(){
	
		        });

				$(function(){
					var jq = $("box");
					//jquery对象转原生；  $box[0]
					if(jq.length){
						console.log("box元素存在");
					}
				})
					
		        ///////////////////
		        $(".data-list tr").first().addClass("selected");

		        ///////////////////////课堂例子////////////////////
		        $(function(){
					//获取第一行表格；
					// 过滤以后，得到第一行；
					$(".date-list tbody tr").first().addClass("selected");
					//选取最后一行；
					$(".data-list tbody ru").last().addClass("selected");
					//选取第4行；
					// qu(index)  下标0开始；  -1最后一个；
					$(".data-list tbody tr").eq(3).addClass("selected");
					//获取倒数第4行；eq(-4)
					$(".data-list tbody tr").qe(-4).addClass("selected");
					//选取前3行； :lt(n)  :gt(n) 大于；  
					// :odd 奇数；  :even 偶数；
					$(".data-list tbody tr:lt(3)").addClass("selected");
					//选取后3行；
					$(".data-list tbody tr:gt(-3)").addClass("selected")；
					// 隔行换色；
					// odd 索引值为奇数的行；偶数行；
					// even 索引值为偶数的行， 奇数行；
					$(".data-list tbody tr:odd").addClass("selected");
		        })
				
				/////////////////////////基本筛选/////////////////////
				:contains(奥巴马)  筛选出包含“奥巴马”这三个字的元素；
				:next([expr]):  返回下一个同辈元素；
				$(function(){
					var $keyword = $("#keyword")
					var $btnSelect = $keyword.next();
					$btnSelect.click = function(){
						var keyword = $keyword.val();
						$(".datalist tbody td:contains(+'keyword'+)").addClass("selected");
					}
				})

				//////////////////////////////////////////
				10)prop(attr[,val])  获取、设置布尔类型属性；有或者没有/没有属性值的属性； H5；
            获取：获取在匹配的元素集中的第一个元素的属性值。
            赋值：给集合中所有元素属性赋值
            ///////////////////////////////////////
            	find(expr|obj|ele);		查找后代元素；
            	//勾选 选额行下的复选框；
            	$(".data-list tbody tr:contains('+keyword+')").find(":checkbox").prop("checked", true);

            	// 链式调用；   可以合并；

            	// 点击选中；
            	$(".datalist tbody tr").click(function(){
					//this.addClass("selected");
					//console.log(this.tagName);  说明 this 是原生对象；
					$(this).addClass("selected").find(":checkbox").prop("checked", true);
					$(this).toggleClass("selected").find(":checkbox").prop("checked", !$(this).hasClass(":checked"))；
					///////////////////// 事件绑定优化 //////////////


					//////////////////////////
					// 选中3-6行； 数组；slice(2, 6)  下标2，第3行；， 下标6，不包括6，就是下标5，第6行；
					$(".r3-6").click(function(){
						$(".data-list tbody tr").slice(2, 6).addClass("selected");
					})
					// 全选，不选；
					$("#all").click(function(){
						var checed = $(this).prop("checked");
						if(checked){
							$(".datalist tbody tr").addClass("selected").find(":checkbox").prop("checked",true)
							
						}else{
							$(".datalist tbody tr").removeClass("selected").find(":checkbox").prop("checked", true)
						}
						// 简写；
						$tr[checked ? "addCLass" : "removeClass"]("selected");
						$checkbox.prop("checked", checked);
					});
            	});
            	///////////////////////////////
            	优化 jQuery 代码；
            		1 用变量保存jQuery对象；
            		2 用链式调用；
            		3 事件绑定优化；
            			1 事件越多越影响性能；
            			2 DOM节点数量越多，越影响性能；
            			3 DOM节点操作越频繁，越影响性能；
            	//////////////////////////
            	// e.target  事件源对象；，触发这个事件的原始对象；
            			不管事件冒泡到哪个阶段，事件源对象保持不变；
            		e.target.tagName
            	$(document).click(function(e){
					console.log("document",e.target.tagName)
            	});
            	// 事件绑定优化；
            	$(".datalist").click(function(e){
            		var $tr = $(e.target).parents("tr");			 e.target  不能加引号；
            		var $tr = $(e.target).closest("tr");
            		var $checkbox = $tr.find(":checkbox");
            		$tr.toggleClass("selected");
					$checkbox.prop("checked", $tr.hasClass("selected"));
            		///////
					var $checkbox = $(this).find(":checkbox");
					$(this).toggleClass("selected");
					$checkbox.prop("checked", $(this).hasClass("selected"));
            	});
            	////////////////查找、、、
            	parent([expr]) 获取父元素；
            	parents([expr]) 获取所有父元素；

            	children([expr]) 获得匹配元素的所有子元素； /原生js，children；

            	next([expr]): 返回下一个同辈元素 ==> nextElementSibling;
            	prev([expr]): 获取前一个同辈元素；
            	nextAll([expr]): 获取当前元素之后所有的同辈元素；
            	prevAll([expr]): 获取当前元素之前所有的同辈元素；
            	siblings([expr]): 火拳当前元素的所有兄弟元素（除自身以外的所有同辈元素）
            	nextAll([expr]) + prev([expr])

            	not(expr|ele|fn): 删除与指定表达式匹配的元素；
				$(".content").not(":first").hide();

				$(this).addClass("active").siblings("span").removeClass("active");

				///////index(), 如果不传参数， 那么返回的是 当前元素相对于其同辈元素的索引值；  $(this).index()
				console.log(this,index())
				$(".content").eq(index).show().siblings(".content").hide();
				siblings()	 提供过滤；
				slideDown(500);  slideUp();  show(111);   hide(111)
			 */
	</script>

</head>
<body>
	
</body>
</html>


///////////////////////////////7.12////////////////////////////
$(".datalist tr:first")  ==>  $(".datalist tr"):first()
$(".datalist tr:lt(2)")
$(".datalist tr:gt(-2)")
$(".datalist tr:eq(1)")  ==>  $(".datalist tr"):eq(-1)

$(".datalist tr").not(":first()")  /  .not(":eq(2)")  //删除；选中的元素；
$(".datalist tr:not(:first)")

<input type="checkbox" checked>		没有属性的属性值，布尔类型的属性值；
									selected, disable, checked， focus 
jquery 中修改布尔类型属性用：  prop(attr[, val])
arrt(attr[, val])    设置/获取元素的属性值，  （用于一般属性）

////////////offsetParent//////////////////
$(function(){
	$tbody,find("tr").toggleClass("selected").find(":checkbox").prop("checked", 	funciton(idx, oldval){
			return !oldval;		
		});
});	


///////////////////////////透明/////////////////////////
transparent transparent; border-width: 20px 10px 10px;

//////////////判断是否加三角符号///////////////
判断下面的是否有这些样式，方法，
$(".main-nav li").has("ul").append("<span class='arrow-down'></span>")
has(expt|ele)  保留包含特定后代的元素，去掉那些不包含有指定后代的元素；

///////////////////////其他方法/////////////////////////
$.each()  ,jquery 的全局方法； 遍历数组，或者，对象；
// jquery 对象的方法；或者，，，
$.each(arr_city, function(idx, city){	得到索引 和 每一项的内容；
	$city.append("<li>" +city+ "</li>");
});
/////////////内部//////内部添加，子元素//////////////
append  在后面插入内容；   后置写法；  appendTo;
prepend  在前面插入内容；		prependTo;    共有8个，，，
//////////外部//////外部添加的方法///////////////////
after  在元素后面插入内容；
before  在元素前面插入内容；

///////////////////////生成和加入一张图片///////////////////////
$("<img src="images/100rmb.jpg"/>").appendTo("body");
$("body").append($("<img src='images/100rmb.jpg'/>"));

after ==>  insertAfter
before ==>  insertBefore 

////////////////////////////创建jQuery 对象///////////////////
$("<div />")
$("<div>生成一个div</div>")

$("<div />").html("<h4>html5</h4>")
$("<div />").text("<h4>html5</h4>")  的区别；

/////////////////////////*****/////////////////
如果页面上已经存在了要添加的元素， 8个   append,prepend,after,before,会把元素移动到页面相应的位置；
///////////////**************///////////////////////////

////////////////////删除///清空/////////////
remove()  删除元素；
虽然元素从文档中删除了，但js内部仍然保留对它的引用；
empty()  清空内容；
都是双标签， html(""), text("");
  但标签是 val()  

/////////////////元素替换///////////////////////////
replaceWith(content|fn);  将指定元素替换成匹配元素；

prop   改布尔属性的属性值； 
attr   改一般属性，  属性=属性值；

////////////////元素复制////////////////////////////
clone();  clone([Even[, deepEven]])
Even  是 true ,false,  是否复制元素的行为， 默认为false；
deepEven；  

/////////////////盒模型/////////////////
width() = width;	取值和赋值； 下面只能取值；
innerWidth() = width + padding; ==> clientWidth;
outerWidth() = widht + padding + border;  ==>  offsetWidth;
outerWidth(true) = width + padding + border + margin;

$("#box").position();


//////////////////////7.13////////////////////////
each,   $.each,   有区别； 
’举例，遍历修改单元格内容；‘	
		each    				全局的遍历；显性遍历；
$(".datalist tr").each()			jquery 对象的遍历，
$(".datalist tr").each(function(idx, tr){
	$(tr)children().slice(1, -1).each(fucntion(i, td){
		var txt = $(td).text().replace(/\d+$/, "");
		$(td).text(txt + (idx+1) + (i+1));
	});
	prop, attr, css, append,  ...  fn,
	两种方法；
	$(tr).children().slice(1, -1).html(function(i, oldHtml){  原来的html内容；
		var txt = $(td).text().replace(/\d+$/, "");
		return txt + (idx+1) + (i+1);		隐式迭代，隐式遍历；

	})
});

///////////////////////////////购物车飞///////////////////////
先获取元素；
var $cartlist = $(".cartlist ul");
$(".goods-list button").click(function(){
	var $img = $(this).closet("li").children("img");
	var $cloneImg = $img.clone();
	$cloneImg.css({
		position: "absolute",
		left: $img.offset().left,
		top: $img.offset().top + $cartlist.outerHeight(),
	}).appendTo("body");

		自定义动画，animate({}, function(){}),  
		要改变的属性，目标值；速度，动画执行的时间；， 快慢，
		回调函数；动画完成后执行的函数；
		animate(params[,speed][,easing][,fn])；

		获取窗口的宽度；  $(window).width()-$("#box").outerWidth();
	$cloneImg.animate({
		left: $cartlist.offset().left, 
		top: $cartlist.offset().top,
		width: 60
	},function(){
		var $cloneli = $li.clone();
		$cloneli.find("button").parent().remove();
		$("<span />").addClass("btn-close").html("&times;").appendTo($cloneli);
		#li.clone().appendTo($cartlist);
		$cloneImg.remove();
	})
});
$cartlist.click(function(e){
	if($(e.target).hasClass("btn-close")){
		$(e.target).closest("li").remove();
	}
});

//////////////////////////作业///////////////////////////////////////////
1 select ==> <select name="xxx" id="xxx"><option value="xx"></option></select>
2 textarea ==> <textarea name="xx" id="xx" cols="30" rows="10"></textarea> 
3 button ==> <button></button>
4 checkbox radio ==> <label for="xx"><input type="checkbox" name="xx">空调</label>
5 其他情况；

<p><label for="xx">xx</label><input type="text" id="xx" name="xx"></p>

var $form = $("<form />");
遍历数据；
$.each(data, function(idx, item){
	var #input = $("<input />");
	var $label = $("<label/>").attr("for", item.name).text(item.label);
	根据type属性，生成不同的表单控件；
	switch(item.type){
		// <select name="xxx" id="xxx"><option value="xx"></option></select>
		case "select":
			$input = $("<select />").attr({
				id: item.name,
				name: item.name
			});
			///////
			["男"，"女"] ==> ['<option value="男">男</option>',"<option value="女">女</option>"]
			//////
			var html = $.map(item.value, function(val){
				return "<option value ="+"val"+">"+val+"</option>";
			}).join("");
			$input.append(html);
			break;

		case "textarea":
			$input = $("<textarea />").arrt({
				id: item.name,
				name: item.name
			});
			break;
		case "button":
			$label = "":
			$input = $("<button />").text(item.label);
			break;
		case "checkbox":
		case "radio":
			$input = $.map(tiem.value, function(val){
				return "<label><input type="'+item.type+'" name="'+item.name+=">+"val"+</label>";
			}).jion("");
			break;
		default:
			$input = $("<input />").attr({
				id: item.name,
				name: item.name,
				type: item.type
			});
	}
		$("<p />").append($label).append($input").appendTo($form)appendTo($form);
});

$form.appendTo("body");

////////////////////////////////////数据类型判断/////////////////////////
原生  
1 typeof
2 call , apply;
var str = 1, /aa/, [],
Object.prototype.toString.call(str);    借用方法，call，

// 数据类型判断函数；	可以存在  js库，
function type(data){
	var _type = Object.prototype.toString.call(data);
	return _type.slice(8, -1).toLowerCase();
}

//////////////////////////////////////////////////////
程序耗时测试；
console.time(name)  测试开始的时间；
console.timeEnd(name)  测试结束的时间；
两个name的值一样时，在timeEnd后会输出两者之间代码运行的时间；

console.time("start");
for(){
	
}
console.timeEnd("start");

var ul = document.querySelector("#datalist");		Dom节点比较耗时；

console.time("start");
	可以有效的调整页面的执行，流畅；
	var fg = document.creatDocumentFragement();    生成一个临时容器；
	for(){
		

		退出整个循环；
		break；
		跳出本次循环，进入下次循环；
		continue；

	}
	$("datalist").each(function(){	循环jQuery对象；

	    退出整个循环	==> break;
	    return false;
		退出当前循环，进入下次循环；
		return true;	==> continue;

	})
console.timeEnd("start");

////////////////////////////////事件绑定方法//////////////////////////
JS
1 ele.onclick    元素.on + 事件名 = 事件处理函数；  (淘汰)
2 <div onclick="fn()"></div>    html属性；
3 ele.addEventListener("click", fn, true);  元素.addEventListener(事件类型， 事件处理函数，是否捕获)；

IE8-: ele.attachEvent("onclick", fn())
///
jQuery 事件绑定函数

1 事件函数,				鼠标事件；
	click().\, dbclick(), mousedown(), mouseup(), mousemove(), mouseout(), mouseover(),
	click ==> mousedown + mouseup
	dbclick ==> 2*click 		//	先冒泡，后执行；
	mouseenter()  事件不会冒泡；
	mouseleave()    事件不会冒泡；

	键盘事件；
	keydown()
	keypress();
	keyup();

	表单事件；
	blur()
	focus()
	change()  值改变并失去焦点时触发；
	submit()

	var $btn = $("#btn");
	var $input = $btn.prev();
	$input.change(function(){
		console.log("值改变");
	})
		*** >>>	$btn.on("click", function(){
					var _val = $input.val();
					console.log(_val);
				})

2 ==>>> 其他事件
	resize()  元素大小改变时触发；
	scroll()  鼠标滚动时触发；


	$("#btnclickme").click(function(e){
		console.log("click")''
		
		阻止事件冒泡;   一定是阻止同类型；
		e.stopPropagation();
		阻止浏览器的默认行为；
		e.
		两个同时阻止；
		return false；

	}).dbclick(function(){
		console.log("dbclick");
	}).mousedown(function(){
		console.log("mousedown");
	}).mouseup(function({
		console.log("mouseup");
	})
////////////////////////
3 >>>事件的绑定与移除
//////
.on(type,[selector], fn)
1 selector 把本来绑定给selector 的事件委托给它的父级  <<<==
2 事件命名空间，自定义事件（对事件加以细分）
	格式， 事件类型.自定义名字  ==>>> 中间是个点  . <<<==
3 一次性绑定多个事件，事件之间以空格隔开，

//  垂直居中 ////////////////
	$("#addpop").on("click", function(e){
		$pop.css({
			left: ( $(window).width() - pop.outerWidth() )/2 + $(window).scrollLeft();
			top:($(window).height() - pop.outerHeight())/2 + $(window).scrollHeight();
		}).show();
	==>>> // 阻止链接跳转；
		e.preventDefault();
	});
	//  窗口改变时，自动居中；
	$(window).on("resize", function(){
		封装，  popcenter();
	}).on("scroll", function(){
		封装；
	})
	==>>>  一次性绑定多个事件
	$(window).on("resize scroll", function(){

	})
//

.off 清除绑定事件
1 off("click")  清除当前元素的点击事件
2 off()  清除当前元素的所有事件
3 off("click mouseover")  一次性清除多个事件，事件之间以空格隔开；
4 off("click.output")  清除命名空间事件；
		on("click.select", function(){})
		on("click.alert", function(){})

		off("click.select", function(){})

//////////////////////
4 >>>事件处理；
hover(over[, out])
	over: 鼠标移入时执行；
	out: 鼠标移出时执行；

///////////////////////7.14////////////////////////////////
trigger(type)  手动触发事件，即使事件没有发生，也能执行事件处理函数；
triggerHandler(type)  这个方法会触发指定的事件类型上所有绑定的处理函数，但不会执行浏览器默认行为，也不会产生事件冒泡；
$("#content").click(function(){
	$("#content").after("<p>淘宝</p>")；
})；
$("#content").on("click", function(){
	$("#content").before("<p>奶茶</p>");
});		事件会冒泡， 两个都会出现；
$("#btnclikc").click(funciton(){
	$("#content a").trigger("click");   链接没跳转，2个都出现；
	$("#content a").triggerHandler("click");  没有触发跳转事件，只运行一个，没冒泡
});

//////
hove(over[,put]);
	over: 鼠标移入时执行；
	out: 鼠标移出时执行；
	mouseenter + mouseleave
==>>> 事件里面全部小写，不能大写，
$("#box")

/////////////////////自定义事件/////////////////////
tringger("box");
$("box").on("click", function(){})

////////////案例，楼梯//////////////////////
//		//
/		/
///////////////////////动画//////////////
淡入淡出；
fadeIn  
1  显示元素
2  不断改变透明度到1；
fadeOut:
1  不断改变透明度到0；
2  隐藏元素；

==>>>  三种预设速度：slow 600, normal 400, fast  200,

/////////////////动画队列///////////////
1 一个元素上的动画；
	当animate中存在多个属性时，动画同时发生；
	当同一个元素链式调用animate时，动画是按顺序发生/队列；
2  多个元素上的动画；
	默认情况下，动画同时发生；
	回调函数内的动画等到当前动画执行完成后才接着执行；
3 stop([clearQueue],[jumpToEnd])
	不加参数：停止当前元素所有正在运行的动画
	clearQueue: 值为true时，清除队列；
	jumpToEnd；值为true时，调到当前动画的最后一帧；  <<<==
4 delay
	设置一个延时来推迟执行队列中之后的动画；
	delay(duration)  duration:  延迟的时间； 
	给运动的对象添加，一定是延迟后面的队列；队列已经形成，会无效；
5 requestAnimationFrame();
    setTimeout/ setInterval 的替代方案；
    ==>>>   var timer = requestAnimationFrame();   请求帧动画；
		    cancelAnimationFrame(timer)

/////////
$("#imglist li").hover(function(){
	var $img = $(this).find("img");
	$bingpic.css({
		top: $(this).offset().top + $(this).outerHeight() + 10;
		left: $(this).offset().left;
	}).html($img.clone()).stop(true, true).fadeIn("slow")
})

/////// ==>>>  三角  //////
.arrow-up{
	position: absolute;
	top: -20px;
	left: 20px;
	border: 10px solid #ddd;
	border-color: transparent transparent #ddd;
}

///////////////////////////
:animated   选择器；

/////////////////////////////////7.15///////////////////////////
//  juqery,  的ajax方法
$.ajax(settings)
	type: 请求烈性，默认  GET
	url: 数据请求地址  API地址；
	data: 发送到服务器的数据对象，  格式;  {key: value}
	success: 请求成功时回调函数；
	dataType:  设定返回数据的格式；  json, jsonp, text(默认), html, xml, script
	async: 是否为异步请求， 默认true;

//////////////API地址：
== >>> JSON.parse()   把json字符串转换成json对象（对象，数组）；但是这个方法对json字符串的要求非常高，
1 属性名 和 字符串 必须用双引号；
2 不能有注释；
var obj = {name: 'xx', age: 18}   ;;{"name":"xx", "age": 18}
var res = JSON.parse(data);    ES5 的方法；



== >>> ajax/ajaxtest  返回一个字符串；
== >>> ajax/getCity  获取城市列表；,返回json字符串，数组，
== >>> ajax/checkname 验证用户名是否被注册；返回：“true，false”，参数; regname; 已经注册的名字；
== >>> /ajax/wiebo 返回微博信息；
== >>> /ajax/football 返回足球信息；

////////////作业///
$(function(){
	var $main = $("#main");
	var $pic = $main.find(".pic li");
	var $nav = $main.find("")
	// 图片轮播数量；
	var len = $pic.length;
	// 初始化索引值；
	var index = 0;
	var lastIndex = 0;

	show();
	// 添加导航；
	for(var i=0; i<len; i++){
		if(i == 0){
			$li.addClass("select");
		}
		$("<li/>").appendTo("$nav");
	}
	var timer;
	$main.on("mouseenter", function(){
		clearInterval(timer);
	}).on("mouseleave", function(){
		timer = setInterval(function(){
			index++;
			show();
		}, 3000);
	}).trigger("mouseleave")
	.on("click". ".next", function(){
		index++;
		show();
	}).on("click", ".prev", function(){
		inde--;
		show();
	});

	// 图片轮播切换；
	function show(){
		init();
		if(index < 0){
			index = len-1;
		}else if(index > len-1){
			index = 0;
		}
		// 显示隐藏图片；
		$pic.hide().eq(index).show();
		$pic.eq(index).find(".img1").animate({
			left: 0
		}, function(){
			$pic.eq(index).find(".img2").show().animate({
				left: 0
			})
		});
		
		// 小方块效果；
		$nav.find("li").removeClass().eq(index).addClass("select");
		// 更新 lastIndex;
		lastIndex = index;
	}
	
	function init(){
		$pic.eq(lastIndex).find(".img1, .img2").removeAttr("style");

	}

});

//////////////////作业///////////////
$(function(){
	$("a[title]").hover(function(){
		var _title = $(this).attr("title");
		$(this).removeAttr("title");	// 清除title属性；防止默认显示；
		=== >>> 新方法；在html元素上添加属性；对象，数组；
		$(this).data("dataTitle", _title);
		=== >>> data, removeData
		var $tips = $("<div/>").addClass("tips").css({
			left: e.clientX,
			top: e.clientY
		});
		$("<p/>").html(_title).appendTo($tips);
		$("<span/>").addClass("arrow").appendTo($tips);
		$("<span/>").addClass("inner").appendTo($tips);
<!-- 		<div class="tips"><span class="arrow"></span><span class="arrow inner"></span></div> -->
		$tips.appendTo("boby");
	}, function(){
		// 鼠标移开，恢复title的属性；
		$(this).attr("title", $(this).data("dataTitle"))
		$(".tips").remove();
	}).on("mousemover", function(e){
		$(".tips").css({
			left: e.clientX- 10,
			top: e.clientY+ 40
		})
	})
})

///////////////////////////////ajax///////////

/////////////////////////7.18//////////////////////
数据请求地址，和， 页面访问地址，==>>> 同域， |协议 |域名 |端口
cors， 也是跨域问题，有兼容性问题；

node server,   ^c;

//  懒加载；
//  服务根据传参的不同，返回不同的数据；
$(window).on("scroll", function(){

	//  滚动条滚动过的距离；
	var scrollTop = $(window).scrollTop();
	//  可视化窗口高度；
	var winHeight = $(window).height();
	//  文档高度；
	var docHeight = $("html").height();

	//  滚动条到底部附近，加载下一页；
	//  scrollTop = docHeight - winHeight - 200;
	if(scrollTop >= docHeight - winHeight - 200){

		pageNo++;
		$.ajax({
			data: {
				pageNo: pageNo
			}
		}).tringger("scroll");
	}
});

/////////////////点加载，把其他页面引进到当前页面/////////////////
$(function(){
	//  load();
	//  加载HTML文档；
	//  当事件来使用；
	$("#btn").on("click", function(){
		$("#output").load("qin.html .content");  这种情况，只会加载 content;
	});
})

<style scope>
	body{
		color: red;
	}
</style>

//  跟原生JS中的window.onload一样的；
$(window).load(function{
	
});

//  往页面生成一样图片；
$("<img/>").attr("").appendTo("body");
$img.load(function(){
	$("<p>图片加载完<p/>").appendTo("body");
});
$("<p>图片加载中。。。<p/>").appendTo("body");


////////////////////////////原生写jsonp/////////////
<script>
	//  原生jsonp的实现，利用script标签来实现的数据获取；
	//  API http。
	var script = document.createElement("script");
	script.src = "http://wthrecd.etouch..cn/weather_mini?city=广州&callback=getWeather";
	document.head.appendChild(script);
	funciton getWeather(data){
		console.log(data);
	}
	getWeather({
		name: "wang",
		age: 18
	})
	//  jquery 实现 jsonp
	$(function(){
		$.ajax({
			url: "http://weather_mini?city=广州&callback=getWeather",
			dataType: "jsonp",
			success: function(data){
				console.log(data);
			}
		})
	});
	/*
		jquery 内部自动声明的一个全局函数；
		function jQuery1120058239874209837429_983w7405983798(data){
					
		}
	 */
</script>

////////////////////////天气的作业///////////////
$(function(){
	//  点击按钮获取天气；
	$("#btn").on("click", function(){
		var city = $(this).prev().val();

		$.ajax({
			url: "http://wthrcdn.....?city =" + city,
			dataType: "jsonp",
			success: function(data){i
				console.log(data);
			}
		})
	})
});

////////////自动转码////////////
decodeURI,,<<<==
jsonp  只能是GET 不能是 POST,

///////////
/ajax/chat,
获取，/ajax/chat=jquery,
发送；/ajax/chat=post,

/////////////////多人聊天室//////////////
$(function(){
	var ip;
	$chatWindow = $("#chatWindow");
	//  API地址；
	var host = "http://localhost:3000";
	var ipURL = host+ ""
	//  获取IP地址；
	//  同步与异步的区别 （阻塞、非阻塞）；
	$("#btnLogin").on("click", function(){
		var $username = $("#username").val();
		var $gender = $("[name=gender]: checked").val();
		if(/^\s*$.test(username)/){
			alert("好汉！");
			return;
		}
		if(!gender){
			alert("外星人");
			return;
		}

		//  登陆成功后写入 cookie；
		//  把对象转json字符串：  JSON.stringify();
		var userinfo = {user: username, gender: gender, myip: myip};
		document.cookie = "userinfo+" + JSON.stringify(userinfo);
		//var ip;
		//  获取ip地址；
		$.ajax({
			url: "http://localhost:3000/ajax/getIP",
			success: function(data){
				//console.log(data);
				ip = data;
			}
			//  ,async = false
		})
		$(".chat-area").show();
	
		var m = {"男": "帅锅",
				"女": "妹纸",
				"保密": "神秘人"
				}
		$(".longinBar").html($username + m[$gender] +"欢迎登陆聊天系统，您的IP地址为" + ip);

		//  向服务器请求数据；
		function getMsg(){
			$.ajax({
				url: "http://localhost:3000/ajax/chat?type=query",
				dataType: "json",
				data: {qty: 20},
				success: function(temp){
					console.log(temp);
					//  处理数据；把json数据变成HTML结构，并写入页面；
					$.each(temp.data, function(idx, item){
						var $media = $("<div/>").addCalss("media");
						var $mediaLeft = $("<div/>").addClass("mediaLeft");
						var $icon = $("<span/>").addClass("glyhpicon glyphicon-user alert alert-warning");
						var $user = $("<h4/>").html(item.name);
						var $content = $("<div/>").addClass("media-boby").html(item.content);

						if(ip == item.ipfrom){
							$media.addClass("current");
							$mediaLeft.addClass("class", "media-right");
							$media.append([$content, $mediaLeft]);
						}else{
							$media,append([$mediaLfet, $content]);
						}

						//  组合；
						$mediaLeft.append([$icon, $user]);
						$media.append([$mediaLeft, $content]);
						//  写入页面；
						$chatWindow.prepend($media);
					});
					//  把当前元素滚动到可视区域；scrollIntoView();
					$chatWindow.find(".meida").last()[0].scrollIntoView();
				}
			});
		
		}

		//  每隔3秒获取一次数据；
		var timer = setInterval(getMsg, 3000);

		//  发送数据；
		$("#btnSend").on("click", function(){
			var msg = $("msg").val();
			//  过滤html标签；
			msg = msg.replace(/\?\w+>/g, "")
			clearInterval(timer);
			$.ajax({
				url: sendURL,
				data: {sender: username, gender: gender, msg: msg}
				success: function(){
					
					getMsg();		
					$msg.val("").focus();


				}
			})
		});
	});

	//  点击退出；
	$(".loginBar").on("click", ".logout", function(){
		var now = new Date();
		now.date = now -1;
		docuement.cookie = "userInfo=null; expires="

	});
	

	//  页面初始化；
	function init(){
		var cookie = document.cookie;
		if(cookie){
			//  正则里面圆括号表示分组； ==>>> $1, $2, $3...$9;
			if(/userInfo\=(\{.+\})/.test(cookie)){
				var userInfo = JSON.parse(RegExp.$1);
				username = usetInfo.username;
				gender = userInfo.gender;
				myip = userInfo.myip;    //  全局变量；
				$(".chat-area").show();
				var m = {“男”：“帅哥”，“女”：“妹纸”}
				$(".loginBar").html("<strong>"+userInfo.user+"..." + myip + "<a href = "#" class="btn btn-... ")
				getMsg();
				timer = setIntetval(getMsg, 3000);
			}
		}
	}
});

////////////////////////////7.19////////////////////////
过滤敏感字符；
var m = "sb, fuck, wori, 我日";
var arr.split(/\s*\,\s*/);  ==>>>生成的一个数组;
$.each(arr, function(idx, str){
	var reg = new RegExp(str, "gi");  ==>>>/sb/gi
	msg = msg.replace(reg, "**");
		
})

/////////
常用处理函数
$.each(object, [callback]);
$.makeArray(obj)  将类数组对象转换为数组对象；
$.parseJSON(json)  接受一个JSON字符串，返回解析后的对象，类似原生Js中的JSON.parse
$.inArray(value, array, [fromIndex])  确定value在数值array中的位置，从0开始计数（乳沟没有找到则返回-1， 一般用于判断数组中是否包含某一个字符；

测试操作
$.type(obj)  检测obj的数据类型，同object prototype 


/////////////////////////插件//////////////////////////////
/
//
///
插件分类，
UI类 表单类，特效类，ajax类，滑动类，输入类，图形图像类，等到

常用插件：
jQueryUI；官方插件，功能多而且全，
jQuery.validation  表单验证插件
jquery.easy...

使用插件：
引用的步骤
1  引入jQuery.js文件，必须在所有插件之前引入；
2  引入插件
3  引入插件相关文件，比如样式，语言包等

//  插件用法
格式  jquery对象.插件();
实例.方法();

//自定义插件的规范|||降低各种插件之间的冲突，减少错误几率；
1  命名规范： jQuery.插件名.js
2  插件中的this应该指向jQuery实例
3  使用this.each()迭代元素
4  插件内部必须返回jQuery实例(this)。便于链式调用
5  所有的对象法附加在jQuery.fn对象(jquery.prototype)上面，所有全局函数附加在jQuery上
6  所有的方法或插件必须分号结尾，避免出问题，为了保证插件和安全性，也可以在插件开始的地方加分号
7  避免插件内部的$冲突,请传递jQuery（$并不是总等于jQuery，另外其他js框架也可能使用$)
=== >>>> **** 最终格式: ;(function($){$.fn.插件名=function(){}})(jQuery);

/////////  ==>>>插件例子<<<==  ///////////////////写插件的格式；
;(funtion($){
	//  jQuery.fn == jQuery.prototype;
	$.fn.lxdrag = function(){
		var self = this;
		this.each(function(){
			var $self = $(this);
			$self.on("mousedown", function(evt){
				var pos = {left: evt.offsetX,top: evt.offsetY};
				$(document).on("mousemove", function(evt){
					$self.css({left: evt.clientX- pos.left;top: evt.clientY- pos.top});
				});
			}).on("mouseup", function(){
				$(docment).off("mousemove");
			});
		});
		return this;
	}

	//  封装全局函数插件
	$.trim = function(str){
		return str.replace(/^\s+|\s+$/g, "");
	}

	//  选择器插件；（类似于 .find() );
	$.fn.bgcolor = function(color){
		var res = this.map(function(idx, ele){
			if( $(ele).css("background") == color){
				return $(ele);
			};
		});
		return res;
	}
		

})(jQuery);
//  使用： $("#box").lxdrag();   jQuery对象方法插件；1
2  封装全局函数插件  $.each,  $.map,  就是在最后加一句代码 $.lxdrag = function(){this}
3  选择器插件；

/////////////插件； 弹窗//////////////////
;(function(){
	$.fn.gdsPopover = function(){
		//  默认值；
		var defaluts = {
			width: 480,
			positon: "center",
			title: "弹窗标题",  // false 不显示标题；
			content: "弹窗内容",
			drag: true,
			overlay: 0.3
		}
		//  扩展默认参数；
		//  把options里的参数覆盖到defaults；
<!-- 		$.each(options, function(){
	defaults[name] = val;
}); -->
==>>> ****	$.extend(defaults, options);
$.extend([d], target. obj1, obj2, ..., [objN])
扩展json对象或jQuery对象本身，用来扩展jQuery全局函数
1  用obj1-objN对象来扩展target对象
2  只有一个参数时，用来扩展jQuery全局函数， $.extend({"hobby": "撸串"})
	$.ajax, $.map, $.each
3  d: 是否深拷贝；
$.fn.extend()  // 扩展
jQuery 元素集合提供新的方法（扩展jQuery原型对象，通常用来制作插件）
匿名函数传参的方式在内部使用$;
(funciton($){
	//  这里写代码；
})(jQuery);

		//  遍历jQuery实例对象；
		this.each(function(idx, ele){
			$(ele).on("click", function(){
				//  生成弹窗HTML结构；
				var $pop = $("<div/>").addClass("popover");
				var $title = $("<div/>").addClass("title").html("弹窗标题");
				var $content = $("<div/>").addClass("content").html("弹窗内容");
				var $btnClose = $("<span/>").addClass("btn-close").html("&times;");

				$pop.append([$title, $content, $btnClose]).appendTo("body");
				// 引入插件 ，位置，css
			
				//  实现拖拽没写；
				e.preventDefault();
				//  关闭弹窗，点击按钮
				$pop.on("click", ".btn-close", function(){
					$pop.remove();
				})

				//  设置弹窗位置；
				position(opt, position);
				//  页面缩小，位置不变
				$(window).on("resize scroll", function(){
					position(opt.position)
				})
				function position(pos){
					if(pos == "center"){
						$pop.css({
							top: ($(window).height() - $pop.outerWidth())/2,
							left: ($(window).width() - $pop.outerWidth())/2
						});
					}else if(pos == "lb"){
						obj = {
							left: 0,
							top: "auto",
							bottom: 0
						}
					}else if(pos == "rb"){
						obj = {
							top: "auto",
							left: "auto",
							right: 0,
							bottom: 0
						}
					}else if($.type(pos) == "object"){
						obj = pos;
					}
					$pop.css(obj);
				}
			});
		});
		//  为了链式调用；返回jQuery实例对象；
		return this;
	}	
})(jQuery);

///////////////jquery//////
$(function(){
	$(btn).on("click", function(){
		gdspopover()

	})
})


///////////////////////////7.20///////////////
UI ==>>> user interface
$.fn.extend;
扩展对象；
var a = {name: "laowang", age: 40}
var b = {name: "xiaoqiao", gender: "nv"}
$.extend(a, b);  ==>>>  a = {name: "xiaoqiao", age: 40, gender: "nv"}
$.extend({}, a, b);  ==>>> {name:"xiaoqiao", age: 40, gender: "nv"}  和上面一样，当不是同一个变量；

var c = {name:"xiaoqiao", age: 40, gender: "nv",hobby:["lol", "huahua"]} 
c.hobby.push("paoniu");

var d = c.extend(true, {}, a, b)

////////////////////////验证登录框///////////////////
$(function(){
	$("#myForm").validata({
		//  设置规则；
		rules: {
			//  必填；
			user: {
				required: true,
				minlength: 6
			}
			email: {
				required: true,
				email: true
			}
		},
		//  设置提示信息；
		messages: {
			user: {
				required: "qin"
			},
			email: {
				email: "qian"
			}
		}
	})
})

/////////////////////弹幕///////////////
//  把json数据改成弹幕
需要构造函数，new一个新的对象；
var alrady = [];
$.each(res, data, function(idx, item){
	var isshow = false;
	//  过滤重复的消息，1 出现过的消息不在生成弹幕
	$.each(already, function(idx, msgObj){
		//  如果当前消息的ipform & createtime 已经存在already里面，说明这个消息已经出现过
		if(msgObj.ipform == item.ipform && msgObj.createtime == tiem.createtime){
			isshow = true;
		}
	});

	if(!isshow){
		new Barrage(item.content, isMine);
		already.push(item);
	}
})
function Barrage(mas, isMine){}

项目   闪猫；

////////////////////7.21///////////////////////////
git  <<< ==

5 添加文件到版本库的步骤
  1 创建文件，  往工作区中添加文件
  2 添加到暂存区 git add <file>  ，把修改存放到一个临时的存储区域， git称之为暂存区（索引）
  3 提交到仓库 git commit -m "备注" <<< == ， 使用git commie命令 可将暂存区的内容提交至版本库中，这个过程称为提交，每一次提交都意味着版本在进行一次更新

git log ，显示从最近到最远的提交日志
  1 pretty=noeline
  2 graph
  3 abbrev-commit
  4 一大串类似323422...3452e3w是 commit id 版本号
  当前版本 HEAD
  上一个版本 HEAD^
  上上个版本 HEAD^^
  前100个版本 HEAD~100

  git reset (--hard  --mixed --soft)
  回退上一个版本  git reset --hard HEAD^
  回退到指定版本  git reset --hard [commit id] 版本号可以不写全，写一部分用git查找其他的一部分
  

  <!-- day36
  		///////////////////////// -->
///////////////////sass/////////////////////
	自动化构建工具；

sass、多行注释。/* */	多行注释会转译到css;
	  单行注释；//	 这种单行注释不会被转译到css
	  ---------------------------
	  2 变量：
	  	命名规则；以$符号开头，后面是字母和数字；
	  	默认变量：$forSize: 16px !default;
	  			会被同名变量覆盖；
	  	特殊变量：#{$fontSize}；
	  3 导入外部sass文件；
	  	@import 'var.scss';
	  	导入的文件，分先后顺序；
	  4 变量的写法；

	  5 特殊符号 &	父元素选择器；
	  6 继承；
			@extend h1；
	  		h1{font-size: 30px; padding: 5px 10px;}
	  		  .title{@extend h1; color:#0f0;}
	  		  占位选择器；%，样式不会编译到css文件中；
	  		  	%pd{padding:10px; border:1px solid #ddd; border-radius: 5px;}
	  		  	.content{@extend %pd;}
----------------------------------------------
npm   全称 node package management.  node包管理
		安装包，格式， npm install <name> [-g] [--save-dev] 中括弧可选参数，
	选装，cnpm, ==>>> npm install -g cnpm
		装完cnpm后，用cnpm命令所安装的包就是从淘宝的服务器里下载，速度稍快；
gulp 插件；
	自动化构建工具， 主要用来自动完成一系列重复的操作；
	1 编译 
			less -> css
			sass -> css
			coffeescript -> js
	2 合并
			css, js
	3 压缩
			css, js, html
	4 优化
			图片优化；
	全局安装 gulp  ，  npm install --global gulp
	本地安装 gulp  ，  npm install --save-dev gulp
	作为项目的开发依赖 devDependencies 安装；

	-------------------------------
	安装 gulp-sass ，用来编译sass源文件，编译后文件变成css文件，

	在本地根目录，创建一个 gulpfile.js

	-----------------------------------
	gulp buildSass,

	-----------------------------
	browser-sync  实现

	------------------------------------
	6 gulp API
		1 创建任务，并通过gulp命名来执行；
			gulp.task('buildSass')
			执行；
				gulp buildSass;

	----------------------------
	7 压缩；
		style表示解析后的css是什么格式，
			outputStyle 有四种取值，分别为 ， nested默认， 
	---------------------
	热门插件；
		html压缩；	gulp-htmlmin
		css压缩；	gulp-clean-css
		js压缩；	gulp-uglify
		图片压缩；	gulp-imagemin

		文件合并；	gulp-concat
		文件重命名；gulp-rename

		sass编译；	gulp-sass

		浏览器同步插件；	browser-Snyc

		-----------------------------------------------
		sass编译与反编译
		1 sass => css
			配合gulp自动化构建工具，使用gulp-sass插件
		2 css => sass(.sass)
			首先把css文件转换成sass源码； *.css ==> *.scss
			